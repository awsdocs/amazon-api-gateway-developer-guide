# Simple calculator API in API Gateway<a name="simple-calc-lambda-api"></a>

Our simple calculator API exposes three methods \(GET, POST, GET\) to invoke the [Simple calculator Lambda function](simple-calc-nodejs-lambda-function.md)\. A graphical representation of this API is shown as follows:

![\[Simple calculator API for generated SDK\]](http://docs.aws.amazon.com/apigateway/latest/developerguide/images/simple-calc-api-console-hierarchy.png)

These three methods show different ways to supply the input for the backend Lambda function to perform the same operation: 
+ The `GET /?a=...&b=...&op=...` method uses the query parameters to specify the input\.
+ The `POST /` method uses a JSON payload of `{"a":"Number", "b":"Number", "op":"string"}` to specify the input\.
+ The `GET /{a}/{b}/{op}` method uses the path parameters to specify the input\.

If not defined, API Gateway generates the corresponding SDK method name by combining the HTTP method and path parts\. The root path part \(`/`\) is referred to as `Api Root`\. For example, the default Java SDK method name for the API method of `GET /?a=...&b=...&op=...` is `getABOp`, the default SDK method name for `POST /` is `postApiRoot`, and the default SDK method name for `GET /{a}/{b}/{op}` is `getABOp`\. Individual SDKs may customize the convention\. Consult the documentation in the generated SDK source for SDK specific method names\. 

You can, and should, override the default SDK method names by specifying the [operationName](https://docs.aws.amazon.com/apigateway/api-reference/resource/method/#operationName) property on each API method\. You can do so when [creating the API method](https://docs.aws.amazon.com/apigateway/api-reference/link-relation/method-put/) or [updating the API method](https://docs.aws.amazon.com/apigateway/api-reference/link-relation/method-update/) using the API Gateway REST API\. In the API Swagger definition, you can set the `operationId` to achieve the same result\.

Before showing how to call these methods using an SDK generated by API Gateway for this API, let's recall briefly how to set them up\. For detailed instructions, see [Creating a REST API in Amazon API Gateway](how-to-create-api.md)\. If you're new to API Gateway, see [Build an API Gateway REST API with Lambda integration](getting-started-with-lambda-integration.md) first\.

## Create models for input and output<a name="simple-calc-lambda-api-create-models-for-input-and-output"></a>

To specify strongly typed input in the SDK, we create an `Input` model for the API:

![\[\]](http://docs.aws.amazon.com/apigateway/latest/developerguide/images/simple-calc-api-create-input-model.png)

Similarly, to describe the response body data type, we create the following models in the API Gateway:

```
{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "properties": {
        "c": {"type":"number"}
    },
    "title": "Output"
}
```

and

```
{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type":"object",
    "properties":{
        "input":{
            "$ref":"https://apigateway.amazonaws.com/restapis/t7dve4zn36/models/Input"
        },
        "output":{
            "$ref":"https://apigateway.amazonaws.com/restapis/t7dve4zn36/models/Output"
        }
    },
    "title":"Result"
}
```

## Set up GET / method query parameters<a name="simple-calc-lambda-api-set-up-get-method-query-parameters"></a>

For the `GET /?a=..&b=..&op=..` method, the query parameters are declared in **Method Request**:

![\[\]](http://docs.aws.amazon.com/apigateway/latest/developerguide/images/simple-calc-api-get-root-method-execution.png)

## Set up data model for the payload as input to the backend<a name="simple-calc-lambda-api-set-up-post-method-body-data-type"></a>

For the `POST /` method, we create the `Input` model and add it to the method request to define the shape of input data\. 

![\[\]](http://docs.aws.amazon.com/apigateway/latest/developerguide/images/simple-calc-api-post-root-method-request.png)

With this model, your API customers can call the SDK to specify the input by instantiating an `Input` object\. Without this model, your customers would be required to create dictionary object to represent the JSON input to the Lambda function\. 

## Set up data model for the result output from the backend<a name="simple-calc-lambda-api-set-up-all-methods-result-data-type"></a>

For all three methods, we create the `Result` model and add it to the method's `Method Response` to define the shape of output returned by the Lambda function\.

![\[\]](http://docs.aws.amazon.com/apigateway/latest/developerguide/images/simple-calc-api-get-abop-method-response.png)

With this model, your API customers can parse a successful output by reading properties of a `Result` object\. Without this model, customers would be required to create dictionary object to represent the JSON output\. 

In addition, you can also create and set up the API following the Swagger API [definitions](simple-calc-lambda-api-swagger-definition.md)\.