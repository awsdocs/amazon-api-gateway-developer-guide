# Choose an API Gateway API integration type<a name="api-gateway-api-integration-types"></a>

 You choose an API integration type according to the types of integration endpoint you work with and how you want data to pass to and from the integration endpoint\. For a Lambda function, you can have the Lambda proxy integration, or the Lambda custom integration\. For an HTTP endpoint, you can have the HTTP proxy integration or the HTTP custom integration\. For an AWS service action, you have the AWS integration of the non\-proxy type only\. API Gateway also supports the mock integration, where API Gateway serves as an integration endpoint to respond to a method request\.

The Lambda custom integration is a special case of the AWS integration, where the integration endpoint corresponds to the [function\-invoking action ](https://docs.aws.amazon.com/lambda/latest/dg/API_Invoke.html)of the Lambda service\. 

Programmatically, you choose an integration type by setting the [https://docs.aws.amazon.com/apigateway/api-reference/resource/integration/#type](https://docs.aws.amazon.com/apigateway/api-reference/resource/integration/#type) property on the [https://docs.aws.amazon.com/apigateway/api-reference/resource/integration/](https://docs.aws.amazon.com/apigateway/api-reference/resource/integration/) resource\. For the Lambda proxy integration, the value is `AWS_PROXY`\. For the Lambda custom integration and all other AWS integrations, it is `AWS`\. For the HTTP proxy integration and HTTP integration, the value is `HTTP_PROXY` and `HTTP`, respectively\. For the mock integration, the `type` value is `MOCK`\.

The Lambda proxy integration supports a streamlined integration setup with a single Lambda function\. The setup is simple and can evolve with the backend without having to tear down the existing setup\. For these reasons, it is highly recommended for integration with a Lambda function\. 

In contrast, the Lambda custom integration allows for reuse of configured mapping templates for various integration endpoints that have similar requirements of the input and output data formats\. The setup is more involved and is recommended for more advanced application scenarios\. 

Similarly, the HTTP proxy integration has a streamlined integration setup and can evolve with the backend without having to tear down the existing setup\. The HTTP custom integration is more involved to set up, but allows for reuse of configured mapping templates for other integration endpoints\. 

The following list summarizes the supported integration types:
+ `AWS`: This type of integration lets an API expose AWS service actions\. In `AWS` integration, you must configure both the integration request and integration response and set up necessary data mappings from the method request to the integration request, and from the integration response to the method response\.
+  `AWS_PROXY`: This type of integration lets an API method be integrated with the Lambda function invocation action with a flexible, versatile, and streamlined integration setup\. This integration relies on direct interactions between the client and the integrated Lambda function\. 

  With this type of integration, also known as the Lambda proxy integration, you do not set the integration request or the integration response\. API Gateway passes the incoming request from the client as the input to the backend Lambda function\. The integrated Lambda function takes the [input of this format](set-up-lambda-proxy-integrations.md#api-gateway-simple-proxy-for-lambda-input-format) and parses the input from all available sources, including request headers, URL path variables, query string parameters, and applicable body\. The function returns the result following this [output format](set-up-lambda-proxy-integrations.md#api-gateway-simple-proxy-for-lambda-output-format)\. 

  This is the preferred integration type to call a Lambda function through API Gateway and is not applicable to any other AWS service actions, including Lambda actions other than the function\-invoking action\. 
+ `HTTP`: This type of integration lets an API expose HTTP endpoints in the backend\. With the `HTTP` integration, also known as the HTTP custom integration, you must configure both the integration request and integration response\. You must set up necessary data mappings from the method request to the integration request, and from the integration response to the method response\.
+  `HTTP_PROXY`: The HTTP proxy integration allows a client to access the backend HTTP endpoints with a streamlined integration setup on single API method\. You do not set the integration request or the integration response\. API Gateway passes the incoming request from the client to the HTTP endpoint and passes the outgoing response from the HTTP endpoint to the client\. 
+ `MOCK`: This type of integration lets API Gateway return a response without sending the request further to the backend\. This is useful for API testing because it can be used to test the integration set up without incurring charges for using the backend and to enable collaborative development of an API\. 

  In collaborative development, a team can isolate their development effort by setting up simulations of API components owned by other teams by using the `MOCK` integrations\. It is also used to return CORS\-related headers to ensure that the API method permits CORS access\. In fact, the API Gateway console integrates the `OPTIONS` method to support CORS with a mock integration\. [Gateway responses](api-gateway-gatewayResponse-definition.md#customize-gateway-responses) are other examples of mock integrations\.